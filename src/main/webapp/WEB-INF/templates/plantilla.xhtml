<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="description" content="plantilla de la aplicacion"/>
        <meta name="keywords" content="SIBFFRAN"/>
        <meta name="author" content="TPI-115, Grupo 8"/>
        <!-- Css -->
        <h:outputStylesheet name="./css/default.css"/>
        <h:outputStylesheet name="./css/cssLayout.css"/>
        <!-- Bootstrap 3.3.2 -->
        <h:outputStylesheet name="./css/bootstrap.min.css"/>
        <!-- Font Awesome Icons -->
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
        <!-- Ionicons -->
        <link href="http://code.ionicframework.com/ionicons/2.0.0/css/ionicons.min.css" rel="stylesheet" type="text/css" />
        <!-- Theme style -->
        <h:outputStylesheet name="./css/AdminLTE.min.css"/>
        <!-- AdminLTE Skins. Choose a skin from the css/skins 
             folder instead of downloading all of them to reduce the load. -->
        <h:outputStylesheet name="./css/_all-skins.min.css"/>

        <title>SIBFFRAN</title>
        <!-- Verificador de sesion -->
        <f:event type="preRenderView" listener="#{plantillaController.verificarSesion()}" />
    </h:head>

    <h:body class="skin-blue">
        <div class="wrapper">
            <!-- Cabecera -->
            <ui:insert name="top">
                <h:form>
                    <header class="main-header">
                        <!-- Logo -->
                        <a class="logo"><b> #{menuController.mostrarUsuarioLogeado()}</b></a>
                        <!-- Header Navbar: style can be found in header.less -->
                        <nav class="navbar navbar-static-top" role="navigation">
                            <!-- Sidebar toggle button-->
                            <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
                                <span class="sr-only">Toggle navigation</span>
                            </a>
                            <!-- Navbar Right Menu -->
                            <div class="navbar-custom-menu">
                                <ul class="nav navbar-nav">
                                    <!-- User Account: style can be found in dropdown.less -->
                                    <li class="dropdown user user-menu">
                                        <a class="dropdown-toggle" >
                                            <!--Mostrar Usuario logueado -->
                                            <span class="hidden-xs">#{menuController.mostrarUsuarioLogeado()} <!-- NOMBRE DE USUARIO--></span>
                                            <!-- Boton de cerrar Sesison -->
                                            <p:commandButton actionListener="#{menuController.cerrarSesion()}"  title="Cerrar Sesion"
                                                             icon="ui-icon-power" action="/index?faces-redirect=true" style="height:25px" /> 
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </nav>
                    </header> 
                </h:form>
            </ui:insert>
            <div>
                <!--lateral izquierdo, menu, nombre usuario, imagen de perfil -->
                <ui:insert name="left">

                    <!-- Left side column. contains the logo and sidebar -->
                    <aside class="main-sidebar">
                        <!-- sidebar: style can be found in sidebar.less -->
                        <section class="sidebar">
                            <!-- Sidebar user panel -->
                            <div class="user-panel">
                                <div class="pull-left image">
                                    <!-- imagen de perfil -->
                                    <h:graphicImage library="images" name="#{menuController.mostrarPerfil()}"  class="img-circle" alt="User Image"/>
                                </div>

                                <div class="pull-left info">
                                    <!--Regresa al inicio con el nombre de usuario -->
                                    <a href="../../protegido/principal.parroquia">
                                        <!-- Muestra el nombre de usuario -->
                                        <p><h4> #{menuController.mostrarNombreUsuario()} </h4><!-- NOMBRE DE USUARIO LATERAL--> </p>
                                        
                                    </a>
                                </div>
                            </div>
                            <!-- sidebar menu: : style can be found in sidebar.less -->
                            <ul class="sidebar-menu">
                                <!-- menu de navegacion, manejado por la base de datos-->
                                <h:form>
                                    <p:panelMenu  model="#{menuController.model}" />
                                </h:form>
                            </ul>
                        </section>

                    </aside>

                </ui:insert>
                <!-- contenido general de la pagina web -->
                <div class="content-wrapper">
                    <!-- contenido de la cabecera, imagen de un banner -->
                    <section class="content-header">
                        <h:graphicImage library="images" name="banner.jpg" style="width: 100%; height:150px"/>
                    </section>

                    <!-- contenido principal -->
                    <section class="content">
                        <div class="box">
                            <div class="box-footer">
                                <ui:insert name="content">Content</ui:insert>
                            </div><!-- /.box-footer -->
                        </div><!-- /.box -->

                    </section><!-- /.content -->
                </div><!-- /.content-wrapper -->
            </div>
        </div> <!-- end wrap-->

        <!-- AdminLTE App -->
        <h:outputScript library="js" name="app.min.js" />   

    </h:body>

</html>