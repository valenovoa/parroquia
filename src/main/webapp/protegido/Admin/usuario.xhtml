<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./../../WEB-INF/templates/plantilla.xhtml">
            
             
            
            <ui:define name="content">

                <h:form>
                    <p:messages id="mensaje" autoUpdate="false"  severity="info, fatal" showSummary="true" showDetail="true"/>

                    <p:fieldset legend="Datos personales" >
                        <h:panelGrid columns="3" id="datos" >
                            
                            <p:outputLabel for="txtApellido" value="Apellidos" />
                            <p:inputText  id="txtApellido" value="#{usuarioController.persona.apellidos}" required="true" requiredMessage="Campo requerido"/>
                            <p:message for="txtApellido" />
                            
                            <p:outputLabel for="txtNombre" value="Nombres" />
                            <p:inputText  id="txtNombre" value="#{usuarioController.persona.nombres}" required="true" requiredMessage="Campo requerido"/>
                            <p:message for="txtNombre" />
                            
                            <p:outputLabel for="txtCarnet" value="Carnet" />
                            <p:inputText  id="txtCarnet" value="#{usuarioController.persona.carnet}" />
                            <p:message for="txtCarnet" />
                            
                            <p:outputLabel for="txtCurso" value="Curso Actual" />
                            <p:inputMask mask="99"  id="txtCurso" value="#{usuarioController.persona.cursoActual}" />
                            <p:message for="txtCurso" />
                            
                            <p:outputLabel for="txtdui" value="DUI" />
                            <p:inputMask mask="99999999-9"  id="txtdui" value="#{usuarioController.persona.dui}" required="true" requiredMessage="Campo requerido"/>
                            <p:message for="txtdui" />
                            

                            

                            

                        </h:panelGrid>
                    </p:fieldset>
                    <p:fieldset legend="Datos de la cuenta" >
                        <h:panelGrid columns="3" id="cuenta">

                            <p:outputLabel for="cboTipo" value="Tipo de Cuenta" />
                            <p:selectOneMenu id="cboTipo" value="#{usuarioController.usuario.tipo}" required="true" requiredMessage="Campo requerido">
                                <f:selectItem itemValue="E" itemLabel="Estudiante"/> 
                                
                            </p:selectOneMenu>
                            <p:message for="cboTipo" />



                            <p:outputLabel for="txtUsuario" value="Usuario" />
                            <p:inputText id="txtUsuario" value="#{usuarioController.usuario.usuario}" required="true" requiredMessage="Campo requerido"/>
                            <p:message for="txtUsuario" />

                            <p:outputLabel for="clave1" value="Contraseña" />
                            <p:password id="clave1" value="#{usuarioController.usuario.clave}" 
                                        validatorMessage="Las claves no coinciden" weakLabel="Debil" strongLabel="Fuerte" goodLabel="Bueno"
                                        match="clave2" feedback="true" promptLabel="Ingrese una clave" required="true" requiredMessage="Campo requerido"/>
                            <p:message for="clave1"/>

                            <p:outputLabel for="clave2" value="Repetir contraseña" />
                            <p:password id="clave2" required="true" requiredMessage="Campo requerido"/>
                            <p:message for="clave2" />
                        </h:panelGrid>

                        <p:commandButton icon="ui-icon-check" value="Registrar"  update="datos,cuenta, mensaje" actionListener="#{usuarioController.registrar()}"/>
                    </p:fieldset>

                </h:form>




            </ui:define>

        </ui:composition>

    </body>
</html>